# План автоматизации тестирования веб-формы и банковских сервисов по приобретению туристических туров

## Сценарии автоматизированного тестирования

<details>
<summary>Покупка тура по дебетовой карте</summary>

<details>
<summary>Автоматизация тестирования покупки тура по дебетовой карте со статусом APPROVED, заполненной валидными значениями</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- В браузере открыта форма приобретения тура по ссылке http://localhost:8080/

### Шаги воспроизведения
1. Нажимаем кнопку "Купить"
2. В поле "Номер карты" вводим валидные данные (4444 4444 4444 4441)
3. В поле "Месяц" вводим валидные данные
4. В поле "Год" вводим валидные данные
5. В поле "Владелец" вводим валидные данные
6. В поле "CVC/CVV" вводим валидные данные
7. Нажимаем кнопку "Продолжить"

**Ожидаемый результат:**  
Проверяется статус карты в базе данных, карта со статусом APPROVED принимается
Появляется сообщение "Успешно. Операция одобрена Банком"
</details>

<details>
<summary>Автоматизация тестирования покупки тура по дебетовой карте со статусом DECLINED, заполненной валидными значениями</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- В браузере открыта форма приобретения тура по ссылке http://localhost:8080/

### Шаги воспроизведения
1. Нажимаем кнопку "Купить"
2. В поле "Номер карты" вводим валидные данные (4444 4444 4444 4442)
3. В поле "Месяц" вводим валидные данные
4. В поле "Год" вводим валидные данные
5. В поле "Владелец" вводим валидные данные
6. В поле "CVC/CVV" вводим валидные данные
7. Нажимаем кнопку "Продолжить"

**Ожидаемый результат:**  
Статус карты 
Проверяется статус карты в базе данных, карта со статусом DECLINED отклоняется
Появляется сообщение "Ошибка! Банк отказал в проведении операции."
</details>

<details>
<summary>Автоматизация тестирования ошибки использования невалидной карты при покупке тура по дебетовой карте</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- В браузере открыта форма приобретения тура по ссылке http://localhost:8080/

### Шаги воспроизведения
1. Нажимаем кнопку "Купить"
2. В поле "Номер карты" вводим невалидные данные карты, отсутствующей в базе данных, состоящие из цифр, в формате (1111 1111 1111 1111)
3. В поле "Месяц" вводим валидные данные
4. В поле "Год" вводим валидные данные
5. В поле "Владелец" вводим валидные данные
6. В поле "CVC/CVV" вводим валидные данные
7. Нажимаем кнопку "Продолжить"

**Ожидаемый результат:**  
Появляется сообщение "Ошибка! Банк отказал в проведении операции."
</details>

<details>
<summary>Автоматизация тестирования сообщений под полями при покупке тура по дебетовой карте, заполненой невалидными и пустыми значениями</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- В браузере открыта форма приобретения тура по ссылке http://localhost:8080/

### Шаги воспроизведения
1. Нажимаем кнопку "Купить"
2. Поле "Номер карты" оставляем пустым (невалидные данные)
3. Поле "Месяц" оставляем пустым (невалидные данные)
4. Поле "Год" оставляем пустым (невалидные данные)
5. Поле "Владелец" оставляем пустым (невалидные данные)
6. Поле "CVC/CVV" оставляем пустым (невалидные данные)
7. Нажимаем кнопку "Продолжить"

**Ожидаемый результат:**  
Под полями появляются надписи красного цвета, под полем "Номер карты" - Неверный формат, под полем "Месяц" - Неверный формат, под полем "Год" - Неверный формат, под полем "Владелец" - Поле обязательно для заполнения (Неверный формат), под полем "CVC/CVV" - Неверный формат
</details>
</details>

<details>
<summary>Покупка тура в кредит с использованием дебетовой карты</summary>

<details>
<summary>Автоматизация тестирования покупки тура с помощью кредита при использовании дебетовой карты, заполненой валидными значениями</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- В браузере открыта форма приобретения тура по ссылке http://localhost:8080/

### Шаги воспроизведения
1. Нажимаем кнопку "Купить в кредит"
2. В поле "Номер карты" вводим валидные данные (4444 4444 4444 4441)
3. В поле "Месяц" вводим валидные данные
4. В поле "Год" вводим валидные данные
5. В поле "Владелец" вводим валидные данные
6. В поле "CVC/CVV" вводим валидные данные
7. Нажимаем кнопку "Продолжить"

**Ожидаемый результат:**  
Появляется сообщение "Успешно. Операция одобрена Банком"
</details>

<details>
<summary>Автоматизация тестирования ошибки использования невалидной карты при покупке тура в кредит по дебетовой карте</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- В браузере открыта форма приобретения тура по ссылке http://localhost:8080/

### Шаги воспроизведения
1. Нажимаем кнопку "Купить в кредит"
2. В поле "Номер карты" вводим невалидные данные карты, отсутствующей в базе данных, состоящие из цифр, в формате (1111 1111 1111 1111)
3. В поле "Месяц" вводим валидные данные
4. В поле "Год" вводим валидные данные
5. В поле "Владелец" вводим валидные данные
6. В поле "CVC/CVV" вводим валидные данные
7. Нажимаем кнопку "Продолжить"

**Ожидаемый результат:**  
Появляется сообщение "Ошибка! Банк отказал в проведении операции."
</details>

<details>
<summary>Автоматизация тестирования сообщений под полями при покупке тура в кредит по дебетовой карте, заполненой невалидными значениями</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- В браузере открыта форма приобретения тура по ссылке http://localhost:8080/

### Шаги воспроизведения
1. Нажимаем кнопку "Купить в кредит"
2. Поле "Номер карты" оставляем пустым (невалидные данные)
3. Поле "Месяц" оставляем пустым (невалидные данные)
4. Поле "Год" оставляем пустым (невалидные данные)
5. Поле "Владелец" оставляем пустым (невалидные данные)
6. Поле "CVC/CVV" оставляем пустым (невалидные данные)
7. Нажимаем кнопку "Продолжить" (невалидные данные)

**Ожидаемый результат:**  
Под полями появляются надписи красного цвета, под полем "Номер карты" - Неверный формат, под полем "Месяц" - Неверный формат, под полем "Год" - Неверный формат, под полем "Владелец" - Поле обязательно для заполнения (Неверный формат), под полем "CVC/CVV" - Неверный формат
</details>
</details>

<details>
<summary>Работа API банковских сервисов веб-приложения по приобретению туров</summary>

<details>
<summary>Автоматизация тестирования API банковского сервиса Payment</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- Сервис payment запущен на http://localhost:9999/payment

### Шаги воспроизведения
1. Отправляем запрос POST со строкой JSON на API, содержащий номер валидной карты

**Ожидаемый результат:**  
Получаем ответ, содержащий идентификатор карты и её статус
</details>

<details>
<summary>Автоматизация тестирования API банковского сервиса Credit</summary>

### Предусловия
- Запущен Docker Desktop с контейнерами СУБД и эмулятором банковских сервисов
- Сервис credit запущен на http://localhost:9999/credit

### Шаги воспроизведения
1. Отправляем запрос POST со строкой JSON на API, содержащий номер валидной карты

**Ожидаемый результат:**  
Получаем ответ, содержащий идентификатор карты и её статус
</details>
</details>

## Инструменты, используемые для автоматизации тестирования
1. Браузер Google Chrome 138.0.7204.170
2. IntelliJ IDEA 2024.3.4 (Community Edition) (платформа для написания кода автотестов на Java)
3. Docker Desktop (для запуска контейнеров с СУБД и эмулятора банковских сервисов)
4. MySQL (СУБД для работы с базой данных карт)
5. PostgreSQL (СУБД для работы с базой данных карт)
6. Gradle (система управления зависимостями, которая позволяет ставить необходимые библиотеки и фреймворки для работы)
7. JUnit 5 (для написания и запуска автотестов)
8. Selenide (фреймворк для автоматизированного тестирования веб-приложений)
9. Lombok (использование аннотаций при написании автотестов)
10. Allure (система для создания отчетов о проведенном тестировании)
11. REST Assured (для отправки запросов на API)
12. Postman (для проверки отправки запросов на API)
13. Faker (библиотека для генерации данных)

## Перечень и описание возможных рисков при автоматизации
- Нестабильность веб-приложения – изменения в UI, API или бизнес-логике могут приводить к падению автотестов
- Проблемы с селекторами – динамические ID, перекрытие элементов или изменения в DOM-структуре могут сделать тесты ненадежными
- Зависимость от сторонних сервисов – тесты могут падать из-за недоступности API, баз данных или внешних интеграций
- Проблемы с окружением – различия в поведении приложения в разных браузерах, ОС или на мобильных устройствах
- Неправильный выбор инструментов – использование сложных или неподходящих инструментов может увеличить время разработки автотестов
- Недостаточная изоляция тестов – тесты влияют друг на друга из-за общих данных или состояния системы
- Сложность генерации данных – тестирование требует подготовки специфичных данных
- Низкая окупаемость и Переоценка скорости выполнения – если автоматизация покрывает только простые сценарии, ручное тестирование может оставаться более эффективным
- Недостаточная квалификация специалиста - увеличивается время по написанию автотестов

## Интервальная оценка с учётом рисков в часах
- Настройка окружения для запуска СУБД и банковских сервисов - 8 часов
- Написание автотестов для формы по оформлению покупки тура по дебетовой карте - 12 часов
- Написание автотестов для формы по оформлению покупки тура в кредит по дебетовой карте - 10 часов
- Написание автотестов по проверке работы API - 4 часа
<p>Итого: 34 часа</p>

## План сдачи работ
1. Планирование - до 3 августа 2025 г.
2. Автоматизация - до 10 августа 2025 г.
3. Отчётные документы по итогам тестирования - до 13 августа 2025 г.
4. Отчётные документы по итогам автоматизации - до 15 августа 2025 г.
